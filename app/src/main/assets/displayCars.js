
var beforeParse = [
                      {
                          "id": 34,
                          "plateNumber": "TEST34",
                          "location": {
                              "id": 0,
                              "latitude": 54.68727,
                              "longitude": 25.25942,
                              "address": "A. Goštauto gatvė 16a"
                          },
                          "model": {
                              "id": 7,
                              "title": "Nissan Leaf",
                              "photoUrl": "https://s3-eu-west-1.amazonaws.com/rideshareuploads/uploads/nissanLeaf.jpg",
                              "rate": {
                                  "isWeekend": true,
                                  "currency": "Euro",
                                  "currencySymbol": "€",
                                  "lease": {
                                      "workdays": {
                                          "amount": 0.15,
                                          "minutes": 1,
                                          "dailyAmount": 25,
                                          "minimumPrice": 1.5,
                                          "minimumMinutes": 10
                                      },
                                      "weekends": {
                                          "amount": 0.15,
                                          "minutes": 1,
                                          "dailyAmount": 25,
                                          "minimumPrice": 1.5,
                                          "minimumMinutes": 10
                                      },
                                      "kilometerPrice": 0,
                                      "freeKilometersPerDay": 0,
                                      "servicePlusBatteryMaxKm": 0,
                                      "servicePlusBatteryMinKm": 0,
                                      "servicePlusEGoPoints": 0
                                  },
                                  "reservation": {
                                      "initialPrice": 0,
                                      "initialMinutes": 15,
                                      "extensionPrice": 5,
                                      "extensionMinutes": 15,
                                      "longerExtensionPrice": 5,
                                      "longerExtensionMinutes": 30
                                  }
                              }
                          },
                          "batteryPercentage": 83,
                          "batteryEstimatedDistance": 157,
                          "isCharging": false
                      },
                      {
                          "id": 38,
                          "plateNumber": "TEST38",
                          "location": {
                              "id": 0,
                              "latitude": 54.64092,
                              "longitude": 25.27675,
                              "address": "Rodūnios kelias 3"
                          },
                          "model": {
                              "id": 3,
                              "title": "VW e-Up!",
                              "photoUrl": "https://s3-eu-west-1.amazonaws.com/rideshareuploads/uploads/44d99347-12a0-42d7-ab84-c3ac8cd7e2c8.jpeg",
                              "rate": {
                                  "isWeekend": true,
                                  "currency": "Euro",
                                  "currencySymbol": "€",
                                  "lease": {
                                      "workdays": {
                                          "amount": 1.5,
                                          "minutes": 15,
                                          "dailyAmount": 28,
                                          "minimumPrice": 1.5,
                                          "minimumMinutes": 15
                                      },
                                      "weekends": {
                                          "amount": 1.5,
                                          "minutes": 15,
                                          "dailyAmount": 10,
                                          "minimumPrice": 1.5,
                                          "minimumMinutes": 15
                                      },
                                      "kilometerPrice": 0.1,
                                      "freeKilometersPerDay": 100,
                                      "servicePlusBatteryMaxKm": 0,
                                      "servicePlusBatteryMinKm": 0,
                                      "servicePlusEGoPoints": 0
                                  },
                                  "reservation": {
                                      "initialPrice": 0,
                                      "initialMinutes": 10,
                                      "extensionPrice": 1,
                                      "extensionMinutes": 1,
                                      "longerExtensionPrice": 2,
                                      "longerExtensionMinutes": 1
                                  }
                              }
                          },
                          "batteryPercentage": 42,
                          "batteryEstimatedDistance": 46,
                          "isCharging": false
                      },
                      {
                          "id": 40,
                          "plateNumber": "TEST40",
                          "location": {
                              "id": 0,
                              "latitude": 54.71978,
                              "longitude": 25.28478,
                              "address": "J. Balčikonio gatvė 3"
                          },
                          "model": {
                              "id": 3,
                              "title": "VW e-Up!",
                              "photoUrl": "https://s3-eu-west-1.amazonaws.com/rideshareuploads/uploads/f403e69d-13ea-4e7f-aa09-f68e2a91f540.jpeg",
                              "rate": {
                                  "isWeekend": true,
                                  "currency": "Euro",
                                  "currencySymbol": "€",
                                  "lease": {
                                      "workdays": {
                                          "amount": 1.5,
                                          "minutes": 15,
                                          "dailyAmount": 28,
                                          "minimumPrice": 1.5,
                                          "minimumMinutes": 15
                                      },
                                      "weekends": {
                                          "amount": 1.5,
                                          "minutes": 15,
                                          "dailyAmount": 10,
                                          "minimumPrice": 1.5,
                                          "minimumMinutes": 15
                                      },
                                      "kilometerPrice": 0.1,
                                      "freeKilometersPerDay": 100,
                                      "servicePlusBatteryMaxKm": 0,
                                      "servicePlusBatteryMinKm": 0,
                                      "servicePlusEGoPoints": 0
                                  },
                                  "reservation": {
                                      "initialPrice": 0,
                                      "initialMinutes": 10,
                                      "extensionPrice": 1,
                                      "extensionMinutes": 1,
                                      "longerExtensionPrice": 2,
                                      "longerExtensionMinutes": 1
                                  }
                              }
                          },
                          "batteryPercentage": 87,
                          "batteryEstimatedDistance": 101,
                          "isCharging": false
                      },
                      {
                          "id": 14,
                          "plateNumber": "TEST14",
                          "location": {
                              "id": 0,
                              "latitude": 54.67786,
                              "longitude": 25.2708,
                              "address": "Algirdo gatvė 23"
                          },
                          "model": {
                              "id": 3,
                              "title": "VW e-Up!",
                              "photoUrl": "https://s3-eu-west-1.amazonaws.com/rideshareuploads/uploads/vweUp.jpg",
                              "rate": {
                                  "isWeekend": true,
                                  "currency": "Euro",
                                  "currencySymbol": "€",
                                  "lease": {
                                      "workdays": {
                                          "amount": 1.5,
                                          "minutes": 15,
                                          "dailyAmount": 28,
                                          "minimumPrice": 1.5,
                                          "minimumMinutes": 15
                                      },
                                      "weekends": {
                                          "amount": 1.5,
                                          "minutes": 15,
                                          "dailyAmount": 10,
                                          "minimumPrice": 1.5,
                                          "minimumMinutes": 15
                                      },
                                      "kilometerPrice": 0.1,
                                      "freeKilometersPerDay": 100,
                                      "servicePlusBatteryMaxKm": 0,
                                      "servicePlusBatteryMinKm": 0,
                                      "servicePlusEGoPoints": 0
                                  },
                                  "reservation": {
                                      "initialPrice": 0,
                                      "initialMinutes": 10,
                                      "extensionPrice": 1,
                                      "extensionMinutes": 1,
                                      "longerExtensionPrice": 2,
                                      "longerExtensionMinutes": 1
                                  }
                              }
                          },
                          "batteryPercentage": 56,
                          "batteryEstimatedDistance": 64,
                          "isCharging": false
                      }
                  ];
// var beforeParse = [];
var features = [];

var map = new ol.Map({
        target: 'map',
        layers: [
          new ol.layer.Tile({
            source: new ol.source.OSM()
          })
        ],
        view: new ol.View({
          center: ol.proj.fromLonLat([25.287514, 54.682789]),
          zoom: 12
        })
      });

for (var i = 0; i < beforeParse.length; i++) {

    var item = beforeParse[i];
    var longitude = item.location.longitude;
    var latitude = item.location.latitude;

    var iconFeature = new ol.Feature({
        geometry: new ol.geom.Point(ol.proj.transform([longitude, latitude], 'EPSG:4326', 'EPSG:3857'))
    });

    var iconStyle = new ol.style.Style({
        image: new ol.style.Icon(({
            anchor: [0.5, 1],
            src: "http://cdn.mapmarker.io/api/v1/pin?text=P&size=50&hoffset=1"
        }))
    });

    iconFeature.setStyle(iconStyle);
    features.push(iconFeature);
}


      var vectorSource = new ol.source.Vector({
        features: features
      });
      var markerVectorLayer = new ol.layer.Vector({
        source: vectorSource,
      });
     map.addLayer(markerVectorLayer);


